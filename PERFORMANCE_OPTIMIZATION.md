# ุชุญุณููุงุช ุงูุฃุฏุงุก - Performance Optimizations

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทุจูู ูุฌููุนุฉ ุดุงููุฉ ูู ุงูุชุญุณููุงุช ูุชุญุณูู ุฃุฏุงุก ุงูุชุทุจูู ูุณุฑุนุฉ ุงูุงุณุชุฌุงุจุฉ. ูุฐุง ุงููุณุชูุฏ ููุถุญ ุฌููุน ุงูุชุญุณููุงุช ุงููุทุจูุฉ ูููููุฉ ุงุณุชุฎุฏุงููุง.

## ๐ ุงูุชุญุณููุงุช ุงููุทุจูุฉ

### 1. ุฎุฏูุฉ ุชุญุณูู ุงูุฃุฏุงุก (PerformanceOptimizationService)

**ุงูููู:** `app/Services/PerformanceOptimizationService.php`

**ุงูููุฒุงุช:**
- ุชุฎุฒูู ูุคูุช ุฐูู ููุจูุงูุงุช ุงููุชูุฑุฑุฉ
- ุฅุฏุงุฑุฉ ูููุตูุฉ ููุชุฎุฒูู ุงููุคูุช ููู ูุงุนุฏุฉ ุจูุงูุงุช
- ุชุฏูุฆุฉ ุงูุชุฎุฒูู ุงููุคูุช ุงูุชููุงุฆูุฉ
- ูุฑุงูุจุฉ ุตุญุฉ ุงูุชุฎุฒูู ุงููุคูุช

**ุงูุงุณุชุฎุฏุงู:**
```php
$performanceService = new PerformanceOptimizationService();

// ุงูุญุตูู ุนูู ุจูุงูุงุช ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุงููุฎุฒูุฉ ูุคูุชุงู
$homeData = $performanceService->getCachedHomeData('jo');

// ุงูุญุตูู ุนูู ุฃุญุฏุงุซ ุงูุชูููู ุงููุฎุฒูุฉ ูุคูุชุงู
$events = $performanceService->getCachedCalendarEvents('jo', 2024, 1);

// ุงูุญุตูู ุนูู ุงูุฅุญุตุงุฆูุงุช ุงููุฎุฒูุฉ ูุคูุชุงู
$stats = $performanceService->getCachedStatistics('jo');
```

### 2. ุชุญุณูู HomeController

**ุงูููู:** `app/Http/Controllers/HomeController.php`

**ุงูุชุญุณููุงุช:**
- ุงุณุชุฎุฏุงู ุงูุชุฎุฒูู ุงููุคูุช ููุจูุงูุงุช ุงููุชูุฑุฑุฉ
- ุชูููู ุนุฏุฏ ุงูุงุณุชุนูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชุญุณูู ุจูุงุก ุงูุชูููู
- ุฅุถุงูุฉ headers ููุชุฎุฒูู ุงููุคูุช

### 3. Middleware ููุชุญุณููุงุช

#### ุฃ. DatabaseOptimization
**ุงูููู:** `app/Http/Middleware/DatabaseOptimization.php`

- ุชุญุณูู ุฅุนุฏุงุฏุงุช MySQL ููุฃุฏุงุก
- ูุฑุงูุจุฉ ุงูุงุณุชุนูุงูุงุช ุงูุจุทูุฆุฉ
- ุชุญุณูู ุฅุนุฏุงุฏุงุช ุงูุงุชุตุงู

#### ุจ. ResponseOptimization
**ุงูููู:** `app/Http/Middleware/ResponseOptimization.php`

- ุถุบุท ุงููุญุชูู ุชููุงุฆูุงู
- ุฅุถุงูุฉ headers ููุฃุฏุงุก ูุงูุฃูุงู
- ุชุญุณูู ุงูุชุฎุฒูู ุงููุคูุช ูููุชุตูุญ
- ุฅุถุงูุฉ ูุนูููุงุช ุงูุชุดุฎูุต ูู ุจูุฆุฉ ุงูุชุทููุฑ

### 4. ุชุญุณูู ุงูููุงุฐุฌ (Models)

**ุงูููู:** `app/Models/Article.php`

**ุงูุชุญุณููุงุช:**
- ุฅุฒุงูุฉ ุงูุชุญููู ุงููุณุจู ุบูุฑ ุงูุถุฑูุฑู
- ุฅุถุงูุฉ scopes ูุญุณูุฉ ููุงุณุชุนูุงูุงุช ุงูุดุงุฆุนุฉ
- ุชุญุฏูุฏ ุงูุญููู ุงููุทููุจุฉ ููุท ูู ุงูุงุณุชุนูุงูุงุช

**ุงูุงุณุชุฎุฏุงู:**
```php
// ุงูุญุตูู ุนูู ุงูููุงูุงุช ุงูุญุฏูุซุฉ ุจุดูู ูุญุณู
$recentArticles = Article::recent(10)->get();

// ุงูุญุตูู ุนูู ุงูููุงูุงุช ุงูุดุงุฆุนุฉ
$popularArticles = Article::popular(10)->get();
```

### 5. ููุงุฑุณ ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงูููู:** `database/migrations/2024_01_01_000001_add_performance_indexes.php`

**ุงูููุงุฑุณ ุงููุถุงูุฉ:**
- ููุงุฑุณ ููููุงูุงุช (ุญุงูุฉ ุงููุดุฑุ ุชุงุฑูุฎ ุงูุฅูุดุงุกุ ุงููุณุชูู ุงูุฏุฑุงุณู)
- ููุงุฑุณ ููุฃุฎุจุงุฑ (ุญุงูุฉ ุงููุดุฑุ ุงููุฆุฉ)
- ููุงุฑุณ ููุฃุญุฏุงุซ (ุชุงุฑูุฎ ุงูุญุฏุซ)
- ููุงุฑุณ ูููููุงุช (ุงูููุงู ุงููุฑุชุจุทุ ููุน ุงูููู)
- ููุงุฑุณ ููุชุนูููุงุช (ุงูุนูุงูุฉ ุงููุชุนุฏุฏุฉ ุงูุฃุดูุงู)

**ุชุทุจูู ุงูููุงุฑุณ:**
```bash
php artisan migrate
```

### 6. ุฃูุงูุฑ Artisan ููุฃุฏุงุก

#### ุฃ. ุชุฏูุฆุฉ ุงูุชุฎุฒูู ุงููุคูุช
**ุงูููู:** `app/Console/Commands/WarmUpCache.php`

```bash
# ุชุฏูุฆุฉ ุงูุชุฎุฒูู ุงููุคูุช ูุฌููุน ููุงุนุฏ ุงูุจูุงูุงุช
php artisan cache:warmup

# ุชุฏูุฆุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุงุนุฏุฉ ุจูุงูุงุช ูุญุฏุฏุฉ
php artisan cache:warmup --database=jo
```

#### ุจ. ูุฑุงูุจุฉ ุงูุฃุฏุงุก
**ุงูููู:** `app/Console/Commands/PerformanceMonitor.php`

```bash
# ูุฑุงูุจุฉ ุฃุฏุงุก ุฌููุน ููุงุนุฏ ุงูุจูุงูุงุช
php artisan performance:monitor

# ูุฑุงูุจุฉ ูุงุนุฏุฉ ุจูุงูุงุช ูุญุฏุฏุฉ
php artisan performance:monitor --database=jo
```

### 7. ุฅุนุฏุงุฏุงุช ุงูุฃุฏุงุก

**ุงูููู:** `config/performance.php`

**ุงูุฅุนุฏุงุฏุงุช ุงูุฌุฏูุฏุฉ:**
- ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญุณูุฉ
- ุฅุนุฏุงุฏุงุช ุงูุชุฎุฒูู ุงููุคูุช Redis
- ุฅุนุฏุงุฏุงุช ุงูุชุฏูุฆุฉ ุงูุชููุงุฆูุฉ

## ๐ ููุงููุณ ุงูุฃุฏุงุก ุงููุชููุนุฉ

### ูุจู ุงูุชุญุณููุงุช:
- ููุช ุชุญููู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ: 800-1200ms
- ุนุฏุฏ ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช: 15-25
- ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ: 25-35MB

### ุจุนุฏ ุงูุชุญุณููุงุช:
- ููุช ุชุญููู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ: 200-400ms โก
- ุนุฏุฏ ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช: 3-8 ๐
- ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ: 15-25MB ๐พ

## ๐ง ุงูุชูููู ูุงูุฅุนุฏุงุฏ

### 1. ุฅุนุฏุงุฏ Redis

ุชุฃูุฏ ูู ุชุดุบูู Redis ูุชููููู ุจุดูู ุตุญูุญ:

```bash
# ุชุดุบูู Redis
redis-server

# ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
redis-cli ping
```

### 2. ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

ูู ููู `.env`:

```env
# Redis Configuration
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# Cache Configuration
CACHE_DRIVER=redis
```

### 3. ุชุทุจูู ุงูููุงุฑุณ

```bash
php artisan migrate
```

### 4. ุชุฏูุฆุฉ ุงูุชุฎุฒูู ุงููุคูุช

```bash
php artisan cache:warmup
```

## ๐ ุงููุฑุงูุจุฉ ูุงูุตูุงูุฉ

### 1. ูุฑุงูุจุฉ ุงูุฃุฏุงุก ุงูููููุฉ

```bash
# ุชุดุบูู ุชูุฑูุฑ ุงูุฃุฏุงุก
php artisan performance:monitor
```

### 2. ุชูุธูู ุงูุชุฎุฒูู ุงููุคูุช

```bash
# ูุณุญ ุงูุชุฎุฒูู ุงููุคูุช ุนูุฏ ุงูุญุงุฌุฉ
php artisan cache:clear

# ุฅุนุงุฏุฉ ุชุฏูุฆุฉ ุงูุชุฎุฒูู ุงููุคูุช
php artisan cache:warmup
```

### 3. ูุฑุงูุจุฉ ุงูุงุณุชุนูุงูุงุช ุงูุจุทูุฆุฉ

ุฑุงุฌุน ูููุงุช ุงูุณุฌู ููุงุณุชุนูุงูุงุช ุงูุชู ุชุณุชุบุฑู ุฃูุซุฑ ูู 100ms:

```bash
tail -f storage/logs/laravel.log | grep "Slow query"
```

## ๐ ูุตุงุฆุญ ุฅุถุงููุฉ ููุฃุฏุงุก

### 1. ุชุญุณูู ุงูุฎุงุฏู

```apache
# ูู ููู .htaccess
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType text/css "access plus 1 year"
    ExpiresByType application/javascript "access plus 1 year"
    ExpiresByType image/png "access plus 1 month"
    ExpiresByType image/jpg "access plus 1 month"
    ExpiresByType image/jpeg "access plus 1 month"
    ExpiresByType image/gif "access plus 1 month"
</IfModule>
```

### 2. ุชุญุณูู PHP

ูู ููู `php.ini`:

```ini
# ุชูููู OPcache
opcache.enable=1
opcache.memory_consumption=128
opcache.max_accelerated_files=4000

# ุชุญุณูู ุงูุฐุงูุฑุฉ
memory_limit=256M
```

### 3. ุชุญุณูู MySQL

```sql
-- ุชุญุณูู ุฅุนุฏุงุฏุงุช MySQL
SET GLOBAL innodb_buffer_pool_size = 134217728; -- 128MB
SET GLOBAL query_cache_size = 67108864; -- 64MB
SET GLOBAL max_connections = 100;
```

## ๐จ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ ูุญููููุง:

1. **Redis ุบูุฑ ูุชุตู:**
   ```bash
   sudo service redis-server start
   ```

2. **ุงูููุงุฑุณ ูู ุชุทุจู:**
   ```bash
   php artisan migrate:status
   php artisan migrate
   ```

3. **ุงูุชุฎุฒูู ุงููุคูุช ูุง ูุนูู:**
   ```bash
   php artisan config:clear
   php artisan cache:clear
   php artisan cache:warmup
   ```

## ๐ ุงูุฏุนู

ููุญุตูู ุนูู ุงููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู ูู ุงูุฃุฏุงุกุ ูุฑุฌู:

1. ุชุดุบูู `php artisan performance:monitor` ููุญุตูู ุนูู ุชูุฑูุฑ ููุตู
2. ูุฑุงุฌุนุฉ ูููุงุช ุงูุณุฌู ูู `storage/logs/`
3. ุงูุชุญูู ูู ุญุงูุฉ Redis ูุงูุงุชุตุงูุงุช

---

**ููุงุญุธุฉ:** ูุฐู ุงูุชุญุณููุงุช ุชู ุชุตููููุง ูุชุญุณูู ุงูุฃุฏุงุก ุจุดูู ูุจูุฑ ูุน ุงูุญูุงุธ ุนูู ุงุณุชูุฑุงุฑ ุงูุชุทุจูู. ูููุตุญ ุจูุฑุงูุจุฉ ุงูุฃุฏุงุก ุจุงูุชุธุงู ูุงุณุชุฎุฏุงู ุงูุฃูุงูุฑ ุงููุชููุฑุฉ ููุตูุงูุฉ.
